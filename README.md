# Avtoradio PWA

Современное прогрессивное веб-приложение (PWA) для прослушивания радиостанции Авторадио с поддержкой HLS потоков.

[Демонстрация работы проекта](https://www.avtoradioshow.ru/)

## Особенности

- ✅ Поддержка HLS потоков для воспроизведения аудио
- ✅ Прогрессивное веб-приложение (PWA)
- ✅ Кроссплатформенность (работает на всех устройствах)
- ✅ Поддержка старых версий iOS (iOS 9.3+)
- ✅ Автономная работа (кэширование через Service Worker)
- ✅ Адаптивный дизайн
- ✅ Доступность (a11y)
- ✅ Поддержка темной темы
- ✅ Контроль громкости
- ✅ Индикаторы состояния (сеть, воспроизведение, звук)

## Технологии

- **Vite** - система сборки
- **hls.js** - библиотека для воспроизведения HLS потоков
- **CSS Grid/Flexbox** - адаптивная верстка
- **Service Worker** - кэширование и PWA функциональность

## Структура проекта

```
avtoradioshow/
├── src/                    # Исходные файлы JavaScript
│   ├── main.js            # Единая точка входа
│   ├── App.js             # Главный класс приложения
│   ├── RadioPlayer.js     # Класс радиоплеера
│   ├── VideoPlayer.js     # Класс видеоплеера
│   ├── utils.js           # Вспомогательные функции
│   ├── global-functions.js # Глобальные функции
│   └── loging.js          # Логирование
├── public/                # Статические файлы
│   ├── vendor/            # Внешние библиотеки
│   │   └── hls.js         # HLS-библиотека (не включается в бандл)
│   ├── sw.js              # Service Worker
│   ├── manifest.json      # Манифест PWA
│   ├── style.css          # Стили
│   ├── favicon.ico        # Фавикон
│   └── assets/            # Ассеты (иконки, шрифты и т.д.)
├── index.html             # Главная HTML-страница
├── vite.config.js         # Конфигурация Vite
├── package.json           # Зависимости и скрипты
└── dist/                  # Результат сборки (генерируется автоматически)
```

## Установка и запуск

### Установка зависимостей

```bash
npm install
```

### Запуск в режиме разработки

```bash
npm run dev
```

Приложение будет доступно по адресу http://localhost:3000

### Сборка для продакшена

```bash
npm run build
```

Результат сборки будет находиться в директории `dist/`

## Сборка

Проект использует Vite для сборки:

- Пользовательский JavaScript собирается и минифицируется
- CSS минифицируется
- HTML минифицируется
- hls.js остается отдельным файлом и не включается в бандл
- Генерируются хэшированные имена файлов для предотвращения проблем с кэшированием
- Service Worker автоматически обновляется с актуальными именами файлов

## Деплой

Для деплоя на веб-сервер (например, nginx) скопируйте содержимое директории `dist/` в корневую директорию вашего веб-сервера.

## PWA возможности

Приложение полностью соответствует требованиям PWA:

- Manifest файл для добавления на главный экран
- Service Worker для кэширования ресурсов и автономной работы
- HTTPS (требуется для PWA)
- Адаптивный дизайн

## HLS потоки

Для воспроизведения HLS потоков используется библиотека hls.js, которая загружается отдельно и не включается в бандл JavaScript.

## Совместимость

- Chrome, Firefox, Safari, Edge (современные версии)
- iOS Safari (9.3+)
- Android Browser (4.4+)

## Автор

Разработано с ❤️ для поклонников Авторадио

## Лицензия

MIT License